# Italian referendum results in Monza and Brianza province
Massimiliano Figini  
March 2, 2017  

This map shows the results of the last Italian constitutional referendum (4 December 2016) in the municipality of my province, Monza and Brianza (Lombardy).  


**Data Information**  
Each record is a municipality of the province.The columns are:  
*denominazione*: name.  
*latitudine*: latitude.  
*longitudine*: longitude.  
*ELETTORI*: potential voters for the referendum.  
*VOTANTI*: voters for the referendum.  
*NUMVOTISI*: number of YES voters.  
*NUMVOTINO*: number of NO voters.

**Map design**  
*Circles colors*: red for the municipality where NO won (over 50% of valid vote was NO), green where YES won.  
*Circles dimension*: proportional to the number of voters.  
*Circles opacity*: based on election turnout (voters percentage).  
*Circles label*: name of municipality (when step on it).  
*Circles popup*: results of referendum for the municipality (when click on it) 

</br>


```r
# import package
library(leaflet)
# getting and cleaning data
MB <- read.csv2("C:/Users/figinim/Documents/Studies/Developing Data Products/Course Project 1/Final_MB.csv")
options(digits=9)
MB$latitudine <- as.numeric(as.character(MB$latitudine))
MB$longitudine <- as.numeric(as.character(MB$longitudine))
# build map
coord <- data.frame(lat = MB$latitudine,lng = MB$longitudine)
coord <- coord %>% leaflet(width = "100%") %>% addTiles()
coord <- coord %>% 
         addCircles(weight = 1, radius = sqrt(MB$ELETTORI)*7, fillOpacity=(MB$VOTANTI/MB$ELETTORI)^7, 
                    fillColor = ifelse(MB$NUMVOTISI/(MB$NUMVOTISI+MB$NUMVOTINO)>0.5,"green","red"), 
                    label = MB$denominazione, 
                    popup = paste("<dt>",MB$denominazione,"</dt>",
                            "<li>","YES: ",as.character((round(MB$NUMVOTISI/MB$VOTANTI,3))*100),"%","</li>",
                            "<li>","NO: ",as.character((round(MB$NUMVOTINO/MB$VOTANTI,3))*100),"%","</li>", 
                            "<li>","Null:",as.character((round((MB$VOTANTI-(MB$NUMVOTISI+MB$NUMVOTINO))
                                   /MB$VOTANTI,3))*100),"%","</li>", sep=""), 
                    popupOptions = popupOptions(minWidth=75))
coord <- coord %>% addLegend(labels = c("YES", "NO"), colors = c("green", "red"))
coord
```

<!--html_preserve--><div id="htmlwidget-5cf5aa767c8a88705cab" style="width:100%;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-5cf5aa767c8a88705cab">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"maxNativeZoom":null,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"continuousWorld":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap\u003c/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA\u003c/a>"}]},{"method":"addCircles","args":[[45.5755478,45.6413289,45.657385,45.6269398,45.6565615,45.6161623,45.6444816,45.7003042,45.630963,45.6106468,45.7091544,45.5527422,45.5963667,45.6165417,45.6542446,45.565801,45.6759513,45.6507624,45.5809965,45.6272069,45.628255,45.644515,45.5905174,45.6499134,45.6659393,45.6216326,45.6997614,45.67201,45.6783852,45.6500034,45.6000313,45.6108915,45.63852,45.6599649,45.6305303,45.6628573,45.5840057,45.5929507,45.5892407,45.5965913,45.7264493,45.6024061,45.6666016,45.6510895,45.6435957,45.6449061,45.6332566,45.661777,45.6508404,45.597852,45.6070292,45.7349259,45.685355,45.6055555,45.614008],[9.351072,9.4161645,9.2527452,9.3265163,9.1298828,9.4232643,9.4034081,9.2922411,9.2753024,9.1476559,9.2397104,9.301822,9.378351,9.4645648,9.3228228,9.375702,9.2429865,9.379103,9.4136515,9.0808576,9.1464259,9.0820367,9.3366411,9.4623632,9.3033229,9.2087527,9.2093782,9.085848,9.1218297,9.3066282,9.1220146,9.2385715,9.2656272,9.1544583,9.4438497,9.0822784,9.2730143,9.2265162,9.2003496,9.4195663,9.2822301,9.4574781,9.4039105,9.2048414,9.1376246,9.2607913,9.4184494,9.2685012,9.362482,9.16043,9.2683696,9.2733493,9.229899,9.3033668,9.3712627],[752.784829815267,283.564807407407,484.519349458822,820.703356883594,509.126703287109,527.04933355427,638.958527605665,774.220252899651,688.81565022871,793.443129657066,492.49365478146,1133.76232077098,407.265269818088,498.230870179679,282.179021190449,441.943435294609,823.712935433213,518.425500915995,516.341940965481,501.36812822516,1193.43328259271,577.786292672299,762.678831488065,630.699611542611,329.892406702549,1244.97710822328,988.983821910146,553.973826096504,783.624910272766,564.314628553965,1134.71273897846,1296.34254732304,532.92025669888,944.507278955541,396.350854672978,465.855127695295,2109.80046449895,945.025925570299,928.074350469832,435.183869186347,393.808329012986,403.761067959753,364.672455773671,1310.79555995586,937.059229718165,561.441893698716,399.736162987539,582.431970276358,617.192028464399,718.071723437151,539.090901425724,409.185776878914,597.260412215643,733.398254702041,990.493816235114],null,null,{"lineCap":null,"lineJoin":null,"clickable":true,"pointerEvents":null,"className":"","stroke":true,"color":"#03F","weight":1,"opacity":0.5,"fill":true,"fillColor":["red","red","red","red","red","red","red","red","red","red","red","red","green","red","red","red","red","green","red","red","red","red","red","red","red","red","red","red","red","red","red","red","red","red","red","red","green","red","red","red","red","red","red","red","red","red","red","red","red","red","green","red","red","red","green"],"fillOpacity":[0.155746214435699,0.188551332874114,0.18201026800538,0.155003525453935,0.115432969930974,0.163042641396502,0.120868639198413,0.149446250647421,0.191237432904346,0.138608612254934,0.172809477320217,0.154336924676502,0.19756013720267,0.120418879641239,0.198680120576176,0.136481629727326,0.143485450168417,0.17018334561136,0.133999932044166,0.152389954827494,0.113463388600957,0.11562911304818,0.162876032116024,0.132489536811977,0.167735961480939,0.131838445508049,0.133312342258327,0.13483241384366,0.12610929158999,0.162691382094561,0.0841925481800929,0.12312934459657,0.144379372071333,0.143764558855313,0.14875617103134,0.138122542612387,0.134329613910805,0.150362227965261,0.136887081782634,0.141161086823104,0.154565409199199,0.110885385101498,0.179217764546455,0.118461522131163,0.129165060647186,0.176456105492096,0.144657939723959,0.166760506897356,0.164855588495994,0.175514920292584,0.191612014385959,0.150882286847515,0.162986820921615,0.161512779792298,0.189892471947455],"dashArray":null},["<dt>Agrate Brianza\u003c/dt><li>YES: 48.7%\u003c/li><li>NO: 50.7%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Aicurzio\u003c/dt><li>YES: 49.3%\u003c/li><li>NO: 49.7%\u003c/li><li>Null:1%\u003c/li>","<dt>Albiate\u003c/dt><li>YES: 43.6%\u003c/li><li>NO: 55.6%\u003c/li><li>Null:0.9%\u003c/li>","<dt>Arcore\u003c/dt><li>YES: 45.8%\u003c/li><li>NO: 53.5%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Barlassina\u003c/dt><li>YES: 44.8%\u003c/li><li>NO: 54.5%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Bellusco\u003c/dt><li>YES: 45.7%\u003c/li><li>NO: 53.6%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Bernareggio\u003c/dt><li>YES: 46.9%\u003c/li><li>NO: 52.5%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Besana in Brianza\u003c/dt><li>YES: 46.1%\u003c/li><li>NO: 53.1%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Biassono\u003c/dt><li>YES: 44%\u003c/li><li>NO: 55.3%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Bovisio-Masciago\u003c/dt><li>YES: 42.4%\u003c/li><li>NO: 56.9%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Briosco\u003c/dt><li>YES: 44.1%\u003c/li><li>NO: 55.2%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Brugherio\u003c/dt><li>YES: 44.9%\u003c/li><li>NO: 54.4%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Burago di Molgora\u003c/dt><li>YES: 50%\u003c/li><li>NO: 49.3%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Busnago\u003c/dt><li>YES: 42.5%\u003c/li><li>NO: 56.8%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Camparada\u003c/dt><li>YES: 45%\u003c/li><li>NO: 54.4%\u003c/li><li>Null:0.5%\u003c/li>","<dt>Caponago\u003c/dt><li>YES: 43.9%\u003c/li><li>NO: 55.3%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Carate Brianza\u003c/dt><li>YES: 46.8%\u003c/li><li>NO: 52.5%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Carnate\u003c/dt><li>YES: 51.6%\u003c/li><li>NO: 47.5%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Cavenago di Brianza\u003c/dt><li>YES: 44.1%\u003c/li><li>NO: 55.3%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Ceriano Laghetto\u003c/dt><li>YES: 42.9%\u003c/li><li>NO: 56.4%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Cesano Maderno\u003c/dt><li>YES: 39.6%\u003c/li><li>NO: 59.7%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Cogliate\u003c/dt><li>YES: 41.7%\u003c/li><li>NO: 57.5%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Concorezzo\u003c/dt><li>YES: 48.2%\u003c/li><li>NO: 51.1%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Cornate d'Adda\u003c/dt><li>YES: 45.2%\u003c/li><li>NO: 54%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Correzzana\u003c/dt><li>YES: 41.5%\u003c/li><li>NO: 57.8%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Desio\u003c/dt><li>YES: 40.5%\u003c/li><li>NO: 58.7%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Giussano\u003c/dt><li>YES: 40.1%\u003c/li><li>NO: 59.3%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Lazzate\u003c/dt><li>YES: 40%\u003c/li><li>NO: 59.2%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Lentate sul Seveso\u003c/dt><li>YES: 43.2%\u003c/li><li>NO: 56%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Lesmo\u003c/dt><li>YES: 42.8%\u003c/li><li>NO: 56.6%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Limbiate\u003c/dt><li>YES: 39.9%\u003c/li><li>NO: 59.4%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Lissone\u003c/dt><li>YES: 42.3%\u003c/li><li>NO: 57.1%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Macherio\u003c/dt><li>YES: 42.1%\u003c/li><li>NO: 57.6%\u003c/li><li>Null:0.3%\u003c/li>","<dt>Meda\u003c/dt><li>YES: 42.7%\u003c/li><li>NO: 56.5%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Mezzago\u003c/dt><li>YES: 46.5%\u003c/li><li>NO: 52.7%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Misinto\u003c/dt><li>YES: 41.3%\u003c/li><li>NO: 57.9%\u003c/li><li>Null:0.9%\u003c/li>","<dt>Monza\u003c/dt><li>YES: 50.1%\u003c/li><li>NO: 49.3%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Muggiò\u003c/dt><li>YES: 43.1%\u003c/li><li>NO: 56.2%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Nova Milanese\u003c/dt><li>YES: 42.9%\u003c/li><li>NO: 56.5%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Ornago\u003c/dt><li>YES: 46.7%\u003c/li><li>NO: 52.5%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Renate\u003c/dt><li>YES: 49.2%\u003c/li><li>NO: 49.9%\u003c/li><li>Null:0.9%\u003c/li>","<dt>Roncello\u003c/dt><li>YES: 38.7%\u003c/li><li>NO: 60.4%\u003c/li><li>Null:0.9%\u003c/li>","<dt>Ronco Briantino\u003c/dt><li>YES: 48%\u003c/li><li>NO: 51.3%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Seregno\u003c/dt><li>YES: 42.6%\u003c/li><li>NO: 56.6%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Seveso\u003c/dt><li>YES: 40.3%\u003c/li><li>NO: 58.9%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Sovico\u003c/dt><li>YES: 44.2%\u003c/li><li>NO: 54.9%\u003c/li><li>Null:0.9%\u003c/li>","<dt>Sulbiate\u003c/dt><li>YES: 46.2%\u003c/li><li>NO: 52.9%\u003c/li><li>Null:0.9%\u003c/li>","<dt>Triuggio\u003c/dt><li>YES: 46.1%\u003c/li><li>NO: 53.2%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Usmate Velate\u003c/dt><li>YES: 46.8%\u003c/li><li>NO: 52.4%\u003c/li><li>Null:0.8%\u003c/li>","<dt>Varedo\u003c/dt><li>YES: 46.3%\u003c/li><li>NO: 53.1%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Vedano al Lambro\u003c/dt><li>YES: 50.6%\u003c/li><li>NO: 48.8%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Veduggio con Colzano\u003c/dt><li>YES: 43.9%\u003c/li><li>NO: 54.9%\u003c/li><li>Null:1.1%\u003c/li>","<dt>Verano Brianza\u003c/dt><li>YES: 42.7%\u003c/li><li>NO: 56.7%\u003c/li><li>Null:0.6%\u003c/li>","<dt>Villasanta\u003c/dt><li>YES: 46.5%\u003c/li><li>NO: 52.8%\u003c/li><li>Null:0.7%\u003c/li>","<dt>Vimercate\u003c/dt><li>YES: 52.3%\u003c/li><li>NO: 47%\u003c/li><li>Null:0.6%\u003c/li>"],{"maxWidth":300,"minWidth":75,"maxHeight":null,"autoPan":true,"keepInView":false,"closeButton":true,"zoomAnimation":true,"closeOnClick":null,"className":""},["Agrate Brianza","Aicurzio","Albiate","Arcore","Barlassina","Bellusco","Bernareggio","Besana in Brianza","Biassono","Bovisio-Masciago","Briosco","Brugherio","Burago di Molgora","Busnago","Camparada","Caponago","Carate Brianza","Carnate","Cavenago di Brianza","Ceriano Laghetto","Cesano Maderno","Cogliate","Concorezzo","Cornate d'Adda","Correzzana","Desio","Giussano","Lazzate","Lentate sul Seveso","Lesmo","Limbiate","Lissone","Macherio","Meda","Mezzago","Misinto","Monza","Muggiò","Nova Milanese","Ornago","Renate","Roncello","Ronco Briantino","Seregno","Seveso","Sovico","Sulbiate","Triuggio","Usmate Velate","Varedo","Vedano al Lambro","Veduggio con Colzano","Verano Brianza","Villasanta","Vimercate"],null,null,null]},{"method":"addLegend","args":[{"colors":["green","red"],"labels":["YES","NO"],"na_color":null,"na_label":"NA","opacity":0.5,"position":"topright","type":"unknown","title":null,"extra":null,"layerId":null,"className":"info legend"}]}],"limits":{"lat":[45.5527422,45.7349259],"lng":[9.0808576,9.4645648]}},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->
